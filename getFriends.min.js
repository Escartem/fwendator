async function gt(){return console.log("âš™ï¸ Intializing..."),(webpackChunkdiscord_app.push([[""],{},e=>{for(let n in m=[],e.c)m.push(e.c[n])}]),m).find(e=>e?.exports?.default?.getToken!==void 0).exports.default.getToken()}async function f(e,n){return await fetch(e,{headers:{Authorization:n}}).then(e=>e.json()).then(e=>e)}async function lf(e){return console.log("âœ‰ï¸ Fetching friends..."),Object.values(await f("https://discord.com/api/v9/users/@me/relationships",e)).map(e=>e.user)}const tm=e=>new Promise(n=>setTimeout(n,e));async function gl(e,n){for(let t in[fp,m,s]=[{},Math.floor(e.length%3600/60),Math.floor(e.length%60)],console.log(`â± This will take about ${(m>0?m+(1==m?" minute and ":" minutes and "):"")+(s>0?s+(1==s?" second":" seconds"):"")}`),e)fp[e[t].id]={name:`${e[t].username}#${e[t].discriminator}`,mutual:Object.values(await f(`https://discord.com/api/v9/users/${e[t].id}/relationships`,n)).map(e=>e.id)},console.log(`ðŸ“ƒ Parsing friends... [${parseInt(t)+1}/${e.length}]`),await tm(1e3);return fp}function up(e){document.head.innerHTML="",document.body.innerHTML="",document.body.appendChild(Object.assign(document.createElement("h1"),{innerHTML:"Your friends data âœ¨"})),document.body.appendChild(Object.assign(document.createElement("textarea"),{value:JSON.stringify(e),readOnly:!0,style:"width: 100%; height: 400px;"})),document.body.appendChild(Object.assign(document.createElement("button"),{innerHTML:"\uD83D\uDCC4 Download data",onclick:function(){url=URL.createObjectURL(new Blob([JSON.stringify(e)],{type:"application/json"})),Object.assign(document.createElement("a"),{href:url,download:`friends-${new Date().toISOString().replace(/[:T]/g,"-").slice(0,19).replaceAll("-","")}.json`}).click(),URL.revokeObjectURL(url)}}))}async function m(){if("discord.com"==window.location.host){var e=await gt(),n=await gl(await lf(e),e);up(n),console.log("âœ¨ Done")}else alert("Not in discord website !")}m();